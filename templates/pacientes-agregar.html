{% extends '_base_layout_admin.html' %}

{% block contenido_de_la_seccion %}
<!-- ACA EMPIEZA EL CONTENIDO DE LA SECCION -->

<h1>Agregar paciente</h1>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <ul class=flashes>
    {% for category, message in messages %}
      <li class="{{ category }}">{{ message }}</li>
    {% endfor %}
    </ul>
  {% endif %}
{% endwith %}

<div class="container">
	<form action="{{ url_for('pacientes_agregar') }}" method="post">
		<fieldset>
			<legend>Datos personales</legend>
			<div>
				<label for="nombres">Nombres</label>
				<input type="text" name="nombres" required />
			</div>
			<div>
				<label for="apellidos">Apellidos</label>
				<input type="text" name="apellidos" required>
			</div>
			<div>
				<label for="ci">C.I.</label>
				<input type="text" name="ci" required>
			</div>
			<div>
				<label for="email">E-mail</label>
				<input type="email" name="email" required>
			</div>
			<div>
				<label for="direccion">Dirección</label>
				<input type="text" name="direccion" required>
			</div>
			<div>
				<label for="localidad">Localidad</label>
				<input type="text" name="localidad" required>
			</div>
			<div>
				<label for="departamento">Departamento</label>
				<input type="text" name="departamento" required>
			</div>
			<div>
				<label for="pais">País</label>
				<input type="text" name="pais" required>
			</div>
			<div>
				<label for="telefono1">Teléfono 1</label>
				<input type="text" name="telefono1" required>
			</div>
			<div>
				<label for="telefono2">Teléfono 2</label>
				<input type="text" name="telefono2">
			</div>
			<div>
				<label for="telefono3">Teléfono 3</label>
				<input type="text" name="telefono3">
			</div>
			<div>
				<label for="fecha_de_nacimiento">Fecha de nacimiento</label>
				<input type="date" name="fecha_de_nacimiento" required>
			</div>
			<div>
				Sexo
				<label><input type="radio" name="sexo" value="m" required> Hombre</label>
				<label><input type="radio" name="sexo" value="f" required> Mujer</label>
				<label><input type="radio" name="sexo" value="o" required> Otro</label>
			</div>
			<div>
				<label for="observaciones">Observaciones</label>
				<textarea name="observaciones" rows="3"></textarea>
			</div>
		</fieldset>
		<fieldset>
			<form>
				<legend>Datos Clínicos</legend>
				<div>
					<label for="doctor_id">Médico Tratante</label>
					<select name="doctor_id" required>
						<option value="">Seleccionar...</option>
						{% for doctor in doctores %}
						<option value="{{ doctor.id }}">{{ doctor.usuario.persona.nombres }} {{ doctor.usuario.persona.apellidos }}</option>
						{% endfor %}
					</select>
				</div>
				<div>
					<label for="enfermero_id">Enfermero Responsable</label>
					<select name="enfermero_id" required>
						<option value="">Seleccionar...</option>
						{% for enfermero in enfermeros %}
						<option value="{{ enfermero.id }}">{{ enfermero.usuario.persona.nombres }} {{ enfermero.usuario.persona.apellidos }}</option>
						{% endfor %}
					</select>
				</div>
				<div>
					<label for="mutualista_id">Mutualista</label>
					<select name="mutualista_id" required>
						<option value="">Seleccionar...</option>
						{% for mutualista in mutualistas %}
						<option value="{{ mutualista.id }}">{{ mutualista.nombre }}</option>
						{% endfor %}
					</select>
				</div>
				<div>
					<label for="tipo_de_paciente">Tipo de paciente</label>
					<select name="tipo_de_paciente">
						<option value="">Seleccionar...</option>
            {% for key in tipos_de_pacientes %}
						<option value="{{ key }} ">{{ tipos_de_pacientes[key] }}</option>
            {% endfor %}
					</select>
				</div>
        <div>
					<label for="tipo_de_acceso_vascular">Tipo de accedo vascular</label>
					<select name="tipo_de_acceso_vascular" required>
						<option value="">Seleccionar...</option>
            {% for key in tipos_de_accesos_vasculares %}
						<option value="{{ key }} ">{{ tipos_de_accesos_vasculares[key] }}</option>
            {% endfor %}
					</select>
				</div>
				<div>
					<label for="numero_fnr">Número FNR</label>
					<input type="text" name="numero_fnr">
				</div>
				<div>
					<label><input type="checkbox" name="estado" value="1">Paciente vigente</label>
				</div>
				<div>
					<label for="primer_dialisis">Primer diálisis</label>
					<input type="date" name="primer_dialisis">
				</div>
				<div>
					<fieldset>
						<legend>Grupo sanguineo</legend>
						<fieldset>
							<legend>Tipo</legend>
							<label><input type="radio" name="grupo_sanguineo" value="a">A</label>
							<label><input type="radio" name="grupo_sanguineo" value="b">B</label>
							<label><input type="radio" name="grupo_sanguineo" value="ab">AB</label>
							<label><input type="radio" name="grupo_sanguineo" value="o">O</label>
						</fieldset>
						<fieldset>
							<legend>Rh</legend>
							<label><input type="radio" name="rh" value="+">+</label>
							<label><input type="radio" name="rh" value="-">-</label>
						</fieldset>
				</div>
				<div>
					<label for="altura">Altura (cm)</label>
					<input type="number" name="altura" min="100" max="250">
				</div>
				<div>
					<label> <input type="checkbox" name="hta" value="1">HTA</label>
					<label> <input type="checkbox" name="alergico" value="1">Alérgico</label>
					<label> <input type="checkbox" name="diabetico" value="1">Diabético</label>
					<label> <input type="checkbox" name="habilitar_lavado_capilar" value="1">Habilitar lavado de capilar</label>
				</div>
				<div>
					<label for="tipo_de_puesto">Tipo de Puesto</label>
					<select name="tipo_de_puesto">
						<option value="">Seleccionar...</option>
            {% for key in tipos_de_puestos %}
						<option value="{{ key }} ">{{ tipos_de_puestos[key] }}</option>
            {% endfor %}
					</select>
				</div>
		</fieldset>
		<button type="submit">Guardar</button>
		<button type="reset">Cancelar</button>
	</form>
</div>

<!-- ACA TERMINA EL CONTENIDO DE LA SECCION-->
{% endblock %}
